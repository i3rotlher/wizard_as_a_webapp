@import de.htwg.se.wizard.model.playerComponent.PlayerBaseImpl.Player
@import de.htwg.se.wizard.model.cardsComponent.Card
@(player: Player)
@main("showCards"){
<h1>@player.name 's cards:</h1>
<ul>
    @for(card <- player.hand) {
    <li>
        <div style="cursor: pointer;" onclick="playCard(@player.hand.indexOf(card))">@card.toString()</div>
@*        //TODO: Wie kann ich JS im imagetag aufrufen?
@*        <img style="cursor: pointer;" onclick="playCard(@player.hand.indexOf(card))"*@
@*        src="@routes.Assets.versioned("../../public/images/Cards/"+ card.colour + card.num + ".png")">*@
    </li>
    }
</ul>

<h2>To Play a Card click the card</h2>

    <script>
        function playCard(idx) {
            fetch(`http://localhost:9000/playCard?idx=${idx}`, {
                method: "POST",
                body: ""
            }).then(res => {
                window.location.replace(res.url)
            });
        }
        function getCardPath(Card_num, Card_colour) {
            result = "public/images/card-images/"
            result += Card_colour // TODO: für Zauberer und Naren kann vmtl. nicht direkt aus dem Kartenobjekt der Farbwert verwendet werden da bspw. (none(grün))
            if (Card_num != 0 || Card_num != 14){
                return result + Card_num + ".png"
            }
            if (Card_num == 0) {
                return result + "-fool.png"
            }
            if (Card_num == 14) {
                return result + "-wizard.png"
            }
            return result
        }
    </script>
}